{"ast":null,"code":"import _slicedToArray from\"/Users/ruchikaashokbharati/Desktop/Contact_Web_App_Local/backend/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useAlert}from'react-alert';import{useDispatch,useSelector}from'react-redux';import{Link}from'react-router-dom';import{login,clearErrors}from\"../../actions/userActions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Login=function Login(_ref){var history=_ref.history,location=_ref.location;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var alert=useAlert();var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.auth;}),isAuthenticated=_useSelector.isAuthenticated,loading=_useSelector.loading,error=_useSelector.error;console.log(\"location\",location);var redirect=location.search?location.search.split('=')[1]:'/';console.log(\"redirect\",redirect);useEffect(function(){if(isAuthenticated){history.push(redirect);}console.log(\"im in login\");if(error){console.log(\"error is true\",error);alert.error(error);dispatch(clearErrors());}},[dispatch,alert,isAuthenticated,error,history]);var submitHandler=function submitHandler(e){e.preventDefault();console.log(\"im in submit handler\");console.log(email,password);dispatch(login(email,password));};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"row wrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-10 col-lg-5\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"shadow-lg\",onSubmit:submitHandler,children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mb-3\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email_field\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email_field\",className:\"form-control\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password_field\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password_field\",className:\"form-control\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsx(Link,{to:\"/password/forgot\",className:\"float-right mb-4\",children:\"Forgot Password ?\"}),/*#__PURE__*/_jsx(\"button\",{id:\"login_button\",type:\"submit\",className:\"btn btn-block py-3\",children:\"LOGIN\"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"float-right mt-3\",children:\"New User?\"})]})})})});};export default Login;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}