{"ast":null,"code":"import _slicedToArray from\"/Users/ruchikaashokbharati/Desktop/Contact_Web_App_Local/backend/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useAlert}from'react-alert';import{useDispatch,useSelector}from'react-redux';import{Link}from'react-router-dom';import{login,clearErrors}from\"../../actions/userActions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Login=function Login(_ref){var history=_ref.history,location=_ref.location;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var alert=useAlert();var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.auth;}),isAuthenticated=_useSelector.isAuthenticated,loading=_useSelector.loading,error=_useSelector.error;console.log(\"location\",location);var redirect=location.search?location.search.split('=')[1]:'/';console.log(\"redirect\",redirect);useEffect(function(){if(isAuthenticated){history.push(redirect);}console.log(\"im in login\");if(error){console.log(\"error is true\",error);alert.error(error);dispatch(clearErrors());}},[dispatch,alert,isAuthenticated,error,history]);var submitHandler=function submitHandler(e){e.preventDefault();console.log(\"im in submit handler\");console.log(email,password);dispatch(login(email,password));};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"row wrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-10 col-lg-5\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"shadow-lg\",onSubmit:submitHandler,children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mb-3\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email_field\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email_field\",className:\"form-control\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password_field\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password_field\",className:\"form-control\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsx(Link,{to:\"/password/forgot\",className:\"float-right mb-4\",children:\"Forgot Password ?\"}),/*#__PURE__*/_jsx(\"button\",{id:\"login_button\",type:\"submit\",className:\"btn btn-block py-3\",children:\"LOGIN\"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"float-right mt-3\",children:\"New User?\"})]})})})});};export default Login;","map":{"version":3,"names":["React","useEffect","useState","useAlert","useDispatch","useSelector","Link","login","clearErrors","Login","history","location","email","setEmail","password","setPassword","alert","dispatch","state","auth","isAuthenticated","loading","error","console","log","redirect","search","split","push","submitHandler","e","preventDefault","target","value"],"sources":["/Users/ruchikaashokbharati/Desktop/Contact_Web_App_Local/backend/client/src/components/authentication/login.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { useAlert } from 'react-alert'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Link } from 'react-router-dom';\nimport { login, clearErrors } from \"../../actions/userActions\"\nconst Login = ({ history, location }) => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const alert = useAlert();\n  const dispatch = useDispatch();\n  const { isAuthenticated, loading, error } = useSelector(state => state.auth);\n  console.log(\"location\", location);\n  const redirect = location.search ? location.search.split('=')[1] : '/'\n  console.log(\"redirect\", redirect);\n  useEffect(() => {\n    if (isAuthenticated) {\n      history.push(redirect);\n    }\n    console.log(\"im in login\");\n    if (error) {\n      console.log(\"error is true\", error);\n      alert.error(error);\n      dispatch(clearErrors());\n    }\n  }, [dispatch, alert, isAuthenticated, error, history])\n  const submitHandler = (e) => {\n    e.preventDefault();\n    console.log(\"im in submit handler\");\n    console.log(email, password);\n    dispatch(login(email, password))\n  }\n  return (\n\n    <>\n      <div className=\"row wrapper\">\n        <div className=\"col-10 col-lg-5\">\n          <form className=\"shadow-lg\" onSubmit={submitHandler}>\n            <h1 className=\"mb-3\">Login</h1>\n            <div className=\"form-group\">\n              <label htmlFor=\"email_field\">Email</label>\n              <input\n                type=\"email\"\n                id=\"email_field\"\n                className=\"form-control\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n              />\n            </div>\n\n            <div className=\"form-group\">\n              <label htmlFor=\"password_field\">Password</label>\n              <input\n                type=\"password\"\n                id=\"password_field\"\n                className=\"form-control\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n              />\n            </div>\n            <Link to=\"/password/forgot\" className=\"float-right mb-4\">Forgot Password ?</Link>\n            <button\n              id=\"login_button\"\n              type=\"submit\"\n              className=\"btn btn-block py-3\"\n            >\n              LOGIN\n            </button>\n            <Link to=\"/register\" className=\"float-right mt-3\">New User?</Link>\n          </form>\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default Login"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}