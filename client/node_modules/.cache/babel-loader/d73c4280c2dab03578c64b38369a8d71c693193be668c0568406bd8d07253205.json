{"ast":null,"code":"import _regeneratorRuntime from\"/Users/ruchikaashokbharati/Desktop/Contact_Web_App_Local/backend/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/ruchikaashokbharati/Desktop/Contact_Web_App_Local/backend/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/ruchikaashokbharati/Desktop/Contact_Web_App_Local/backend/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{useSelector}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MessageList=function MessageList(){var _useSelector=useSelector(function(state){return state.auth;}),messages=_useSelector.messages;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),Messages=_useState2[0],setMessages=_useState2[1];useEffect(function(){getMessages();},[]);var getMessages=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:console.log(\"messages\",messages);messages.sort(function compare(a,b){var dateA=Date.parse(a.createdAt);var dateB=Date.parse(b.createdAt);return dateB-dateA;});Messages.map(function(message,index){var currentDate=new Date(message.createdAt);var timestamp=currentDate.toLocaleString();;console.log(\"timestamp\",timestamp);console.log(timestamp.split(',')[1]);});setMessages(messages);case 4:case\"end\":return _context.stop();}},_callee);}));return function getMessages(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:messages.length==0?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"h1\",{style:{color:'red',display:'flex',justifyContent:'center',alignItems:'center',marginBottom:'10rem',marginTop:'10rem'},children:\"No message has been sent yet\"})}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",id:\"messageContainer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-7 col-lg-7 col-md-7 col-xl-7 col-7\",id:\"messageTable\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"List of messages\"}),/*#__PURE__*/_jsxs(\"table\",{class:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{class:\"thead-dark\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Name Of the Contact\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Time\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"OTP\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:Messages.map(function(message,index){var currentDate=new Date(message.createdAt);var timestamp=currentDate.toLocaleString();;console.log(\"timestamp\",timestamp);console.log(timestamp.split(',')[1]);var time=timestamp.split(',')[1];return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:message.recipientFirstName+\" \"+message.recipientLastName}),/*#__PURE__*/_jsx(\"td\",{children:time}),/*#__PURE__*/_jsx(\"td\",{children:message.OneTimePassword})]});})})]})]})})})});};export default MessageList;","map":{"version":3,"names":["useEffect","useState","useSelector","MessageList","state","auth","messages","Messages","setMessages","getMessages","console","log","sort","compare","a","b","dateA","Date","parse","createdAt","dateB","map","message","index","currentDate","timestamp","toLocaleString","split","length","color","display","justifyContent","alignItems","marginBottom","marginTop","time","recipientFirstName","recipientLastName","OneTimePassword"],"sources":["/Users/ruchikaashokbharati/Desktop/Contact_Web_App_Local/backend/client/src/components/messages/messageList.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nconst MessageList = () => {\n    const { messages } = useSelector(state => state.auth);\n    const [Messages, setMessages] = useState([])\n    useEffect(() => {\n        getMessages();\n    }, [])\n    const getMessages = async () => {\n        console.log(\"messages\", messages)\n        messages.sort(function compare(a, b) {\n            var dateA = Date.parse(a.createdAt);\n            var dateB = Date.parse(b.createdAt);\n            return dateB - dateA;\n        });\n        Messages.map((message, index) => {\n            const currentDate = new Date(message.createdAt);\n            const timestamp = currentDate.toLocaleString();;\n            console.log(\"timestamp\", timestamp);\n            console.log(timestamp.split(',')[1])\n        })\n        setMessages(messages)\n    }\n    return (\n        <>\n            {messages.length == 0 ? <>\n                <h1 style={{ color: 'red', display: 'flex', justifyContent: 'center', alignItems: 'center', marginBottom: '10rem', marginTop: '10rem' }}>No message has been sent yet</h1>\n            </> : <>\n                <div className=\"row\" id=\"messageContainer\">\n                    <div className=\"col-sm-7 col-lg-7 col-md-7 col-xl-7 col-7\" id=\"messageTable\">\n                        <h3>List of messages</h3>\n                        <table class=\"table\">\n\n                            <thead class=\"thead-dark\">\n                                <tr>\n                                    <th scope=\"col\">#</th>\n                                    <th scope=\"col\">Name Of the Contact</th>\n                                    <th scope=\"col\">Time</th>\n                                    <th scope=\"col\">OTP</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {Messages.map((message, index) => {\n                                    const currentDate = new Date(message.createdAt);\n                                    const timestamp = currentDate.toLocaleString();;\n                                    console.log(\"timestamp\", timestamp);\n                                    console.log(timestamp.split(',')[1])\n                                    let time = timestamp.split(',')[1]\n                                    return (\n                                        <tr>\n                                            <th scope=\"row\">{index + 1}</th>\n                                            <td>{message.recipientFirstName + \" \" + message.recipientLastName}</td>\n                                            <td>{time}</td>\n                                            <td>{message.OneTimePassword}</td>\n                                        </tr>\n                                    )\n                                })}\n\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n\n            </>}\n\n        </>)\n}\nexport default MessageList;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}