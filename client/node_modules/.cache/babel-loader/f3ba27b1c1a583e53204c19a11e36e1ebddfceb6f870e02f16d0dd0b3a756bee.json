{"ast":null,"code":"import _regeneratorRuntime from\"/Users/ruchikaashokbharati/Desktop/Contact_Web_App_Local/backend/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/ruchikaashokbharati/Desktop/Contact_Web_App_Local/backend/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{LOGIN_USER_REQUEST,LOGIN_USER_FAIL,LOGIN_USER_SUCCESS,LOGOUT_FAIL,LOGOUT_SUCCESS}from\"../constants/userConstants\";import{REGISTER_USER_FAIL,REGISTER_USER_SUCCESS,REGISTER_USER_REQUEST,CLEAR_ERRORS}from\"../constants/userConstants\";import{GET_USER_DETAILS_FAIL,GET_USER_DETAILS_SUCCESS}from\"../constants/userConstants\";import axios from\"axios\";export var login=function login(email,password){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch){var config,_yield$axios$post,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;console.log(\"email\",email);console.log(\"password\",password);dispatch({type:LOGIN_USER_REQUEST});config={headers:{'Content-Type':'application/json'}};_context.next=7;return axios.post(\"http://localhost:3001/users/login\",{email:email,password:password},config);case 7:_yield$axios$post=_context.sent;data=_yield$axios$post.data;console.log(\"data\",data);dispatch({type:LOGIN_USER_SUCCESS,payload:data});_context.next=18;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](0);console.log(\"error\",_context.t0);console.log(\"error\",_context.t0.response.data.errMessage);dispatch({type:LOGIN_USER_FAIL,payload:_context.t0.response.data.errMessage});case 18:case\"end\":return _context.stop();}},_callee,null,[[0,13]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var register=function register(userData){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch){var config,_yield$axios$post2,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:console.log(\"im in register\");console.log(\"userdata\",userData);_context2.prev=2;dispatch({type:REGISTER_USER_REQUEST});config={headers:{'Content-Type':'multipart/form-data'}};_context2.next=7;return axios.post(\"http://localhost:3001/users/register\",userData,config);case 7:_yield$axios$post2=_context2.sent;data=_yield$axios$post2.data;console.log(\"registerdata\",data);dispatch({type:REGISTER_USER_SUCCESS,payload:data});_context2.next=17;break;case 13:_context2.prev=13;_context2.t0=_context2[\"catch\"](2);console.log(\"error\",_context2.t0.response);dispatch({type:REGISTER_USER_FAIL,payload:_context2.t0.response.data.errMessage});case 17:case\"end\":return _context2.stop();}},_callee2,null,[[2,13]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};//logout user\nexport var logoutUser=function logoutUser(){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(dispatch){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:console.log(\"im in load user\");try{dispatch({type:LOGOUT_SUCCESS});}catch(error){console.log(\"logouterrpr\",error);dispatch({type:LOGOUT_FAIL,payload:error.response.data.errMessage});}case 2:case\"end\":return _context3.stop();}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}();};export var getUserDetails=function getUserDetails(details){return function(dispatch){console.log(\"action\",details);try{dispatch({type:GET_USER_DETAILS_SUCCESS,payload:details});}catch(error){dispatch({type:GET_USER_DETAILS_FAIL,payload:error});}};};export var clearErrors=function clearErrors(){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(dispatch){return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:dispatch({type:CLEAR_ERRORS});case 1:case\"end\":return _context4.stop();}},_callee4);}));return function(_x4){return _ref4.apply(this,arguments);};}();};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}